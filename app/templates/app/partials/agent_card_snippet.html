{% load static %}

<div class="card align-self-start m-2 {% if agent.role != 'Autre' %}border-primary{% endif %}"
     style="max-width: 240px; min-height: 350px;">
    <div class="card-header flex-fill">
        {% if agent.image %}
            <img src="{{ agent.image.url }}" class="card-img-top mb-1">
        {% else %}
            <img src="{% static 'images/default-picture.jpeg' %}" class="card-img-top mb-1">
        {% endif %}
            <h5 class="card-title">{{ agent.first_name }} {{ agent.last_name }}</h5>
        {% if agent.has_informations %}
         <ul class="nav nav-pills card-header-pills">
             <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="collapse" role="button"
                   aria-expanded="false" aria-controls="collapseExample" aria-current="true"
                   href="#info-{{ agent.pk }}">Informations</a>
            </li>
         </ul>
        {% endif %}
    </div>
    {% if agent.has_informations %}
    <div class="collapse" id="info-{{ agent.pk }}">
        <div class="card-body">
            {% if agent.grade %}
                <h6 class="card-subtitle text-muted">Grade</h6>
                <p class="card-text bg-light border">{{ agent.grade }}</p>
            {% endif %}
            {%if agent.registration_number %}
                <h6 class="card-subtitle text-muted">Matricule</h6>
                <p class="card-text bg-light border">{{ agent.registration_number }}</p>
            {% endif %}
            {%if agent.mail %}
                <h6 class="card-subtitle text-muted">Mail</h6>
                <p class="card-text bg-light border">{{ agent.mail }}</p>
            {% endif %}
            {% if agent.phone %}
                <h6 class="card-subtitle text-muted">Poste fixe</h6>
                <p class="card-text bg-light border">{{ agent.phone }}</p>
            {% endif %}
            {% if agent.mobile %}
                <h6 class="card-subtitle text-muted">Mobile</h6>
                <p class="card-text bg-light border">{{ agent.mobile }}</p>
            {% endif %}
        </div>
    </div>
    {% endif %}
    {% if agent.role == 'Chef' %}
        <div class="card-footer text-primary">Chef de service</div>
    {% elif agent.role == 'Adjoint' %}
        <div class="card-footer text-primary">Adjoint au chef de service</div>
    {% elif agent.role == 'Secrétaire' %}
        <div class="card-footer text-primary">Secrétariat</div>
    {% endif %}
</div>
